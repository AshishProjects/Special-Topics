{"ast":null,"code":"var _jsxFileName = \"/Users/ashish/Desktop/specialTopic/client/src/components/RemoveCar.js\";\nimport React from 'react';\nimport { Mutation } from 'react-apollo';\nimport { Button } from '@material-ui/core';\nimport { GET_CAR, REMOVE_CAR } from '../queries';\nimport { filter } from 'lodash';\n\nconst RemoveCar = ({\n  id,\n  year,\n  make,\n  model,\n  price,\n  ownerId\n}) => {\n  return React.createElement(Mutation, {\n    mutation: REMOVE_CAR,\n    update: (store, {\n      data: {\n        removeCar\n      }\n    }) => {\n      const _store$readQuery = store.readQuery({\n        query: GET_CAR,\n        variables: {\n          ownerId: ownerId\n        }\n      }),\n            cars = _store$readQuery.cars;\n\n      store.writeQuery({\n        query: GET_CAR,\n        data: {\n          cars: filter(cars, c => {\n            return c.id !== removeCar.id;\n          })\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, removeCar => React.createElement(Button, {\n    onClick: e => {\n      e.preventDefault();\n      removeCar({\n        variables: {\n          id\n        },\n        optimisticResponse: {\n          __typename: 'Mutation',\n          removeCar: {\n            __typename: 'Car',\n            id,\n            year,\n            make,\n            model,\n            price,\n            ownerId\n          }\n        }\n      });\n    },\n    variant: \"contained\",\n    color: \"secondary\",\n    style: {\n      margin: '5px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \"Delete\"));\n};\n\nexport default RemoveCar;","map":{"version":3,"sources":["/Users/ashish/Desktop/specialTopic/client/src/components/RemoveCar.js"],"names":["React","Mutation","Button","GET_CAR","REMOVE_CAR","filter","RemoveCar","id","year","make","model","price","ownerId","store","data","removeCar","readQuery","query","variables","cars","writeQuery","c","e","preventDefault","optimisticResponse","__typename","margin"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,YAApC;AACA,SAASC,MAAT,QAAuB,QAAvB;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA,EAAF;AAAMC,EAAAA,IAAN;AAAYC,EAAAA,IAAZ;AAAiBC,EAAAA,KAAjB;AAAuBC,EAAAA,KAAvB;AAA6BC,EAAAA;AAA7B,CAAD,KAA4C;AAC5D,SACE,oBAAC,QAAD;AACE,IAAA,QAAQ,EAAER,UADZ;AAEE,IAAA,MAAM,EAAE,CAACS,KAAD,EAAQ;AAAEC,MAAAA,IAAI,EAAE;AAAEC,QAAAA;AAAF;AAAR,KAAR,KAAoC;AAAA,+BACzBF,KAAK,CAACG,SAAN,CAAgB;AAAEC,QAAAA,KAAK,EAAEd,OAAT;AAAkBe,QAAAA,SAAS,EAAE;AAAEN,UAAAA,OAAO,EAAEA;AAAX;AAA7B,OAAhB,CADyB;AAAA,YAClCO,IADkC,oBAClCA,IADkC;;AAE1CN,MAAAA,KAAK,CAACO,UAAN,CAAiB;AACfH,QAAAA,KAAK,EAAEd,OADQ;AAEfW,QAAAA,IAAI,EAAE;AAAEK,UAAAA,IAAI,EAAEd,MAAM,CAACc,IAAD,EAAOE,CAAC,IAAI;AAAE,mBAAOA,CAAC,CAACd,EAAF,KAASQ,SAAS,CAACR,EAA1B;AAA8B,WAA5C;AAAd;AAFS,OAAjB;AAID,KARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUGQ,SAAS,IACR,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEO,CAAC,IAAI;AACpBA,MAAAA,CAAC,CAACC,cAAF;AACAR,MAAAA,SAAS,CAAC;AACRG,QAAAA,SAAS,EAAE;AACTX,UAAAA;AADS,SADH;AAIRiB,QAAAA,kBAAkB,EAAE;AAClBC,UAAAA,UAAU,EAAE,UADM;AAElBV,UAAAA,SAAS,EAAE;AACTU,YAAAA,UAAU,EAAE,KADH;AAETlB,YAAAA,EAFS;AAGTC,YAAAA,IAHS;AAITC,YAAAA,IAJS;AAKTC,YAAAA,KALS;AAMTC,YAAAA,KANS;AAOTC,YAAAA;AAPS;AAFO;AAJZ,OAAD,CAAT;AAiBD,KAnBD;AAoBE,IAAA,OAAO,EAAC,WApBV;AAqBE,IAAA,KAAK,EAAC,WArBR;AAsBE,IAAA,KAAK,EAAE;AAAEc,MAAAA,MAAM,EAAE;AAAV,KAtBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,CADF;AAyCD,CA1CD;;AA4CA,eAAepB,SAAf","sourcesContent":["import React from 'react'\nimport { Mutation } from 'react-apollo'\nimport { Button } from '@material-ui/core'\nimport { GET_CAR, REMOVE_CAR } from '../queries'\nimport { filter } from 'lodash'\n\nconst RemoveCar = ({ id, year, make,model,price,ownerId }) => {\n  return (\n    <Mutation\n      mutation={REMOVE_CAR}\n      update={(store, { data: { removeCar } }) => {\n        const { cars } = store.readQuery({ query: GET_CAR, variables: { ownerId: ownerId } })\n        store.writeQuery({\n          query: GET_CAR,\n          data: { cars: filter(cars, c => { return c.id !== removeCar.id }) }\n        })\n      }}\n    >\n      {removeCar => (\n        <Button onClick={e => {\n          e.preventDefault()\n          removeCar({\n            variables: {\n              id\n            },\n            optimisticResponse: {\n              __typename: 'Mutation',\n              removeCar: {\n                __typename: 'Car',\n                id,\n                year,\n                make,\n                model,\n                price,\n                ownerId\n              }\n            }\n          })\n        }}\n          variant='contained'\n          color='secondary'\n          style={{ margin: '5px' }}\n        >\n          Delete\n        </Button>\n      )}\n    </Mutation>\n  )\n}\n\nexport default RemoveCar"]},"metadata":{},"sourceType":"module"}